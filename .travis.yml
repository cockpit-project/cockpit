notifications:
  irc:
    channels:
     - "chat.freenode.net#cockpit"
    skip_join: true
    use_notice: true
    template:
     - "%{message} (%{branch} - %{commit} : %{author}): %{build_url}"
sudo: false
language: c
compiler:
  - gcc
  - clang
cache: apt
addons:
  apt:
    packages:
    - automake
    - autoconf
    - intltool
    - xsltproc
    - libglib2.0-dev
    - libpolkit-gobject-1-dev
    - libpolkit-agent-1-dev
    - phantomjs
    - libjson-glib-dev
    - libpam0g-dev
    - libssh-dev
    - libsystemd-daemon-dev
    - libsystemd-journal-dev
    - pkg-config
    - glib-networking
    - valgrind
    - libkeyutils-dev
    - xmlto
    - libpcp3-dev
    - libpcp-pmda3-dev
    - libpcp-import1-dev
    - pcp
script:
  - ./autogen.sh --prefix=/usr --enable-strict && make V=1 all && make distcheck && make -j8 check-memory
